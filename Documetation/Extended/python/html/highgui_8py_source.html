<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Border Surviellance Bot: /Users/harish/Downloads/Doxy/cs308-group05/PC-Interface/ctypes_opencv/highgui.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Readme.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Border Surviellance Bot&#160;<span id="projectnumber">Group V</span></div>
   <div id="projectbrief">An attempt to model border surviellance using Firebird-V robot and Python</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">/Users/harish/Downloads/Doxy/cs308-group05/PC-Interface/ctypes_opencv/highgui.py</div>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">#!/usr/bin/env python</span>
<a name="l00002"></a>00002 <span class="comment"># ctypes-opencv - A Python wrapper for OpenCV using ctypes</span>
<a name="l00003"></a>00003 
<a name="l00004"></a>00004 <span class="comment"># Copyright (c) 2008, Minh-Tri Pham</span>
<a name="l00005"></a>00005 <span class="comment"># All rights reserved.</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="comment"># Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="comment">#    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00010"></a>00010 <span class="comment">#    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00011"></a>00011 <span class="comment">#    * Neither the name of ctypes-opencv&#39;s copyright holders nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="comment">#THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="comment"># For further inquiries, please contact Minh-Tri Pham at pmtri80@gmail.com.</span>
<a name="l00016"></a>00016 <span class="comment"># ----------------------------------------------------------------------------</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="keyword">from</span> ctypes <span class="keyword">import</span> *
<a name="l00019"></a>00019 <span class="keyword">from</span> ctypes_opencv.cxcore <span class="keyword">import</span> *
<a name="l00020"></a>00020 <span class="keyword">from</span> ctypes_opencv.cxcore <span class="keyword">import</span> _cvReleaseImage
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="comment">#-----------------------------------------------------------------------------</span>
<a name="l00024"></a>00024 <span class="comment"># Simple GUI</span>
<a name="l00025"></a>00025 <span class="comment">#-----------------------------------------------------------------------------</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 CV_WINDOW_AUTOSIZE = 1
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="comment"># Holds references to ctypes function wrappers for callbacks to keep the</span>
<a name="l00031"></a>00031 <span class="comment"># Python side object alive.  Keyed by window name, with a window value being</span>
<a name="l00032"></a>00032 <span class="comment"># a dictionary of callbacks, keyed by &quot;mouse&quot; mouse callback, or &quot;trackbar-name&quot;</span>
<a name="l00033"></a>00033 <span class="comment"># for a trackbar named &quot;name&quot;.  </span>
<a name="l00034"></a>00034 <span class="comment">#</span>
<a name="l00035"></a>00035 <span class="comment"># See module bottom for atexit registration to destroy windows at process exit.</span>
<a name="l00036"></a>00036 _windows_callbacks = {}
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="comment"># Creates window</span>
<a name="l00039"></a>00039 _cvNamedWindow = cfunc(<span class="stringliteral">&#39;cvNamedWindow&#39;</span>, _hgDLL, c_int,
<a name="l00040"></a>00040     (<span class="stringliteral">&#39;name&#39;</span>, c_char_p, 1), <span class="comment"># const char* name</span>
<a name="l00041"></a>00041     (<span class="stringliteral">&#39;flags&#39;</span>, c_int, 1, 1), <span class="comment"># int flags </span>
<a name="l00042"></a>00042 )
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="keyword">def </span>cvNamedWindow(name, flags=1):
<a name="l00045"></a>00045     <span class="stringliteral">&quot;&quot;&quot;int cvNamedWindow(const char* name, int flags)</span>
<a name="l00046"></a>00046 <span class="stringliteral"></span>
<a name="l00047"></a>00047 <span class="stringliteral">    Creates window</span>
<a name="l00048"></a>00048 <span class="stringliteral">    &quot;&quot;&quot;</span>
<a name="l00049"></a>00049     <span class="keywordflow">if</span> _cvNamedWindow(name, flags=flags) &gt; 0 <span class="keywordflow">and</span> <span class="keywordflow">not</span> name <span class="keywordflow">in</span> _windows_callbacks:
<a name="l00050"></a>00050         _windows_callbacks[name] = {}
<a name="l00051"></a>00051     
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="comment"># Destroys a window</span>
<a name="l00054"></a>00054 _cvDestroyWindow = cfunc(<span class="stringliteral">&#39;cvDestroyWindow&#39;</span>, _hgDLL, <span class="keywordtype">None</span>,
<a name="l00055"></a>00055     (<span class="stringliteral">&#39;name&#39;</span>, c_char_p, 1), <span class="comment"># const char* name </span>
<a name="l00056"></a>00056 )
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="keyword">def </span>cvDestroyWindow(name):
<a name="l00059"></a>00059     <span class="stringliteral">&quot;&quot;&quot;void cvDestroyWindow(const char* name)</span>
<a name="l00060"></a>00060 <span class="stringliteral"></span>
<a name="l00061"></a>00061 <span class="stringliteral">    Destroys a window</span>
<a name="l00062"></a>00062 <span class="stringliteral">    &quot;&quot;&quot;</span>
<a name="l00063"></a>00063     _cvDestroyWindow(name)
<a name="l00064"></a>00064     <span class="keywordflow">if</span> name <span class="keywordflow">in</span> _windows_callbacks:
<a name="l00065"></a>00065         _windows_callbacks.pop(name)
<a name="l00066"></a>00066         
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="comment"># Destroys all the HighGUI windows</span>
<a name="l00069"></a>00069 _cvDestroyAllWindows = cfunc(<span class="stringliteral">&#39;cvDestroyAllWindows&#39;</span>, _hgDLL, <span class="keywordtype">None</span>,
<a name="l00070"></a>00070 )
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="keyword">def </span>cvDestroyAllWindows():
<a name="l00073"></a>00073     <span class="stringliteral">&quot;&quot;&quot;void cvDestroyAllWindows(void)</span>
<a name="l00074"></a>00074 <span class="stringliteral"></span>
<a name="l00075"></a>00075 <span class="stringliteral">    Destroys all the HighGUI windows</span>
<a name="l00076"></a>00076 <span class="stringliteral">    &quot;&quot;&quot;</span>
<a name="l00077"></a>00077     _cvDestroyAllWindows()
<a name="l00078"></a>00078     _windows_callbacks.clear()
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="comment"># Sets window size</span>
<a name="l00081"></a>00081 cvResizeWindow = cfunc(<span class="stringliteral">&#39;cvResizeWindow&#39;</span>, _hgDLL, <span class="keywordtype">None</span>,
<a name="l00082"></a>00082     (<span class="stringliteral">&#39;name&#39;</span>, c_char_p, 1), <span class="comment"># const char* name</span>
<a name="l00083"></a>00083     (<span class="stringliteral">&#39;width&#39;</span>, c_int, 1), <span class="comment"># int width</span>
<a name="l00084"></a>00084     (<span class="stringliteral">&#39;height&#39;</span>, c_int, 1), <span class="comment"># int height </span>
<a name="l00085"></a>00085 )
<a name="l00086"></a>00086 cvResizeWindow.__doc__ = <span class="stringliteral">&quot;&quot;&quot;void cvResizeWindow(const char* name, int width, int height)</span>
<a name="l00087"></a>00087 <span class="stringliteral"></span>
<a name="l00088"></a>00088 <span class="stringliteral">Sets window size</span>
<a name="l00089"></a>00089 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 <span class="comment"># Sets window position</span>
<a name="l00092"></a>00092 cvMoveWindow = cfunc(<span class="stringliteral">&#39;cvMoveWindow&#39;</span>, _hgDLL, <span class="keywordtype">None</span>,
<a name="l00093"></a>00093     (<span class="stringliteral">&#39;name&#39;</span>, c_char_p, 1), <span class="comment"># const char* name</span>
<a name="l00094"></a>00094     (<span class="stringliteral">&#39;x&#39;</span>, c_int, 1), <span class="comment"># int x</span>
<a name="l00095"></a>00095     (<span class="stringliteral">&#39;y&#39;</span>, c_int, 1), <span class="comment"># int y </span>
<a name="l00096"></a>00096 )
<a name="l00097"></a>00097 cvMoveWindow.__doc__ = <span class="stringliteral">&quot;&quot;&quot;void cvMoveWindow(const char* name, int x, int y)</span>
<a name="l00098"></a>00098 <span class="stringliteral"></span>
<a name="l00099"></a>00099 <span class="stringliteral">Sets window position</span>
<a name="l00100"></a>00100 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="comment"># Gets window handle by name</span>
<a name="l00103"></a>00103 cvGetWindowHandle = cfunc(<span class="stringliteral">&#39;cvGetWindowHandle&#39;</span>, _hgDLL, c_void_p,
<a name="l00104"></a>00104     (<span class="stringliteral">&#39;name&#39;</span>, c_char_p, 1), <span class="comment"># const char* name </span>
<a name="l00105"></a>00105 )
<a name="l00106"></a>00106 cvGetWindowHandle.__doc__ = <span class="stringliteral">&quot;&quot;&quot;void* cvGetWindowHandle(const char* name)</span>
<a name="l00107"></a>00107 <span class="stringliteral"></span>
<a name="l00108"></a>00108 <span class="stringliteral">Gets window handle by name</span>
<a name="l00109"></a>00109 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00110"></a>00110 
<a name="l00111"></a>00111 <span class="comment"># Gets window name by handle</span>
<a name="l00112"></a>00112 cvGetWindowName = cfunc(<span class="stringliteral">&#39;cvGetWindowName&#39;</span>, _hgDLL, c_void_p,
<a name="l00113"></a>00113     (<span class="stringliteral">&#39;window_handle&#39;</span>, c_void_p, 1), <span class="comment"># void* window_handle </span>
<a name="l00114"></a>00114 )
<a name="l00115"></a>00115 cvGetWindowName.__doc__ = <span class="stringliteral">&quot;&quot;&quot;constchar* cvGetWindowName(void* window_handle)</span>
<a name="l00116"></a>00116 <span class="stringliteral"></span>
<a name="l00117"></a>00117 <span class="stringliteral">Gets window name by handle</span>
<a name="l00118"></a>00118 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 <span class="comment"># Shows the image in the specified window</span>
<a name="l00121"></a>00121 cvShowImage = cfunc(<span class="stringliteral">&#39;cvShowImage&#39;</span>, _hgDLL, <span class="keywordtype">None</span>,
<a name="l00122"></a>00122     (<span class="stringliteral">&#39;name&#39;</span>, c_char_p, 1), <span class="comment"># const char* name</span>
<a name="l00123"></a>00123     (<span class="stringliteral">&#39;image&#39;</span>, CvArr_r, 1), <span class="comment"># const CvArr* image </span>
<a name="l00124"></a>00124 )
<a name="l00125"></a>00125 cvShowImage.__doc__ = <span class="stringliteral">&quot;&quot;&quot;void cvShowImage(const char* name, const CvArr image)</span>
<a name="l00126"></a>00126 <span class="stringliteral"></span>
<a name="l00127"></a>00127 <span class="stringliteral">Shows the image in the specified window</span>
<a name="l00128"></a>00128 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 <span class="comment"># Creates the trackbar and attaches it to the specified window</span>
<a name="l00131"></a>00131 CvTrackbarCallback = CFUNCTYPE(<span class="keywordtype">None</span>, <span class="comment"># void</span>
<a name="l00132"></a>00132     c_int) <span class="comment"># int pos</span>
<a name="l00133"></a>00133 
<a name="l00134"></a>00134 <span class="comment"># Define NULL pointer that matches callback type for when no callback is needed</span>
<a name="l00135"></a>00135 CvTrackbarCallback_NULL = cast(<span class="keywordtype">None</span>, CvTrackbarCallback)
<a name="l00136"></a>00136 
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 <span class="comment"># Creates the trackbar and attaches it to the specified window</span>
<a name="l00139"></a>00139 _cvCreateTrackbar = cfunc(<span class="stringliteral">&#39;cvCreateTrackbar&#39;</span>, _hgDLL, c_int,
<a name="l00140"></a>00140     (<span class="stringliteral">&#39;trackbar_name&#39;</span>, c_char_p, 1), <span class="comment"># const char* trackbar_name</span>
<a name="l00141"></a>00141     (<span class="stringliteral">&#39;window_name&#39;</span>, c_char_p, 1), <span class="comment"># const char* window_name</span>
<a name="l00142"></a>00142     (<span class="stringliteral">&#39;value&#39;</span>, ByRefArg(c_int), 1), <span class="comment"># int* value</span>
<a name="l00143"></a>00143     (<span class="stringliteral">&#39;count&#39;</span>, c_int, 1), <span class="comment"># int count</span>
<a name="l00144"></a>00144     (<span class="stringliteral">&#39;on_change&#39;</span>, CvTrackbarCallback, 1, CvTrackbarCallback_NULL), <span class="comment"># CvTrackbarCallback on_change </span>
<a name="l00145"></a>00145 )
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 <span class="keyword">def </span>cvCreateTrackbar(trackbar_name, window_name, value, count, on_change=None):
<a name="l00148"></a>00148     <span class="stringliteral">&quot;&quot;&quot;int cvCreateTrackbar( const char* trackbar_name, const char* window_name, int_or_c_int value, int count, CvTrackbarCallback on_change )</span>
<a name="l00149"></a>00149 <span class="stringliteral"></span>
<a name="l00150"></a>00150 <span class="stringliteral">    Creates the trackbar and attaches it to the specified window</span>
<a name="l00151"></a>00151 <span class="stringliteral">    [ctypes-opencv] &#39;value&#39; is the initial position of the trackbar. Also, if &#39;value&#39; is an instance of c_int, it holds the current position of the trackbar at any time.</span>
<a name="l00152"></a>00152 <span class="stringliteral">    &quot;&quot;&quot;</span>
<a name="l00153"></a>00153     <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(value, c_int):
<a name="l00154"></a>00154         value = c_int(value)
<a name="l00155"></a>00155 
<a name="l00156"></a>00156     <span class="keywordflow">if</span> on_change <span class="keywordflow">is</span> <span class="keywordtype">None</span>:
<a name="l00157"></a>00157         on_change = CvTrackbarCallback_NULL
<a name="l00158"></a>00158     <span class="keywordflow">else</span>:
<a name="l00159"></a>00159         on_change = CvTrackbarCallback(on_change) <span class="comment"># convert to C callback function</span>
<a name="l00160"></a>00160     <span class="comment"># Instantiate (or re-use) trackbar first before updating callback</span>
<a name="l00161"></a>00161     <span class="comment"># references to ensure new ones are in place before old ones get removed</span>
<a name="l00162"></a>00162 
<a name="l00163"></a>00163     result = _cvCreateTrackbar(trackbar_name, window_name, value, count, on_change=on_change)
<a name="l00164"></a>00164 
<a name="l00165"></a>00165     <span class="keywordflow">if</span> result:
<a name="l00166"></a>00166         cb_key = <span class="stringliteral">&#39;tracker-&#39;</span> + trackbar_name
<a name="l00167"></a>00167         _windows_callbacks.setdefault(window_name,{})[cb_key] = (value,
<a name="l00168"></a>00168                                                                  on_change)
<a name="l00169"></a>00169 
<a name="l00170"></a>00170     <span class="keywordflow">return</span> result
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 <span class="comment"># Retrieves trackbar position</span>
<a name="l00173"></a>00173 cvGetTrackbarPos = cfunc(<span class="stringliteral">&#39;cvGetTrackbarPos&#39;</span>, _hgDLL, c_int,
<a name="l00174"></a>00174     (<span class="stringliteral">&#39;trackbar_name&#39;</span>, c_char_p, 1), <span class="comment"># const char* trackbar_name</span>
<a name="l00175"></a>00175     (<span class="stringliteral">&#39;window_name&#39;</span>, c_char_p, 1), <span class="comment"># const char* window_name </span>
<a name="l00176"></a>00176 )
<a name="l00177"></a>00177 cvGetTrackbarPos.__doc__ = <span class="stringliteral">&quot;&quot;&quot;int cvGetTrackbarPos(const char* trackbar_name, const char* window_name)</span>
<a name="l00178"></a>00178 <span class="stringliteral"></span>
<a name="l00179"></a>00179 <span class="stringliteral">Retrieves trackbar position</span>
<a name="l00180"></a>00180 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00181"></a>00181 
<a name="l00182"></a>00182 <span class="comment"># Sets trackbar position</span>
<a name="l00183"></a>00183 cvSetTrackbarPos = cfunc(<span class="stringliteral">&#39;cvSetTrackbarPos&#39;</span>, _hgDLL, <span class="keywordtype">None</span>,
<a name="l00184"></a>00184     (<span class="stringliteral">&#39;trackbar_name&#39;</span>, c_char_p, 1), <span class="comment"># const char* trackbar_name</span>
<a name="l00185"></a>00185     (<span class="stringliteral">&#39;window_name&#39;</span>, c_char_p, 1), <span class="comment"># const char* window_name</span>
<a name="l00186"></a>00186     (<span class="stringliteral">&#39;pos&#39;</span>, c_int, 1), <span class="comment"># int pos </span>
<a name="l00187"></a>00187 )
<a name="l00188"></a>00188 cvSetTrackbarPos.__doc__ = <span class="stringliteral">&quot;&quot;&quot;void cvSetTrackbarPos(const char* trackbar_name, const char* window_name, int pos)</span>
<a name="l00189"></a>00189 <span class="stringliteral"></span>
<a name="l00190"></a>00190 <span class="stringliteral">Sets trackbar position</span>
<a name="l00191"></a>00191 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00192"></a>00192 
<a name="l00193"></a>00193 <span class="comment"># Assigns callback for mouse events</span>
<a name="l00194"></a>00194 CV_EVENT_MOUSEMOVE = 0
<a name="l00195"></a>00195 CV_EVENT_LBUTTONDOWN = 1
<a name="l00196"></a>00196 CV_EVENT_RBUTTONDOWN = 2
<a name="l00197"></a>00197 CV_EVENT_MBUTTONDOWN = 3
<a name="l00198"></a>00198 CV_EVENT_LBUTTONUP = 4
<a name="l00199"></a>00199 CV_EVENT_RBUTTONUP = 5
<a name="l00200"></a>00200 CV_EVENT_MBUTTONUP = 6
<a name="l00201"></a>00201 CV_EVENT_LBUTTONDBLCLK = 7
<a name="l00202"></a>00202 CV_EVENT_RBUTTONDBLCLK = 8
<a name="l00203"></a>00203 CV_EVENT_MBUTTONDBLCLK = 9
<a name="l00204"></a>00204 
<a name="l00205"></a>00205 CV_EVENT_FLAG_LBUTTON = 1
<a name="l00206"></a>00206 CV_EVENT_FLAG_RBUTTON = 2
<a name="l00207"></a>00207 CV_EVENT_FLAG_MBUTTON = 4
<a name="l00208"></a>00208 CV_EVENT_FLAG_CTRLKEY = 8
<a name="l00209"></a>00209 CV_EVENT_FLAG_SHIFTKEY = 16
<a name="l00210"></a>00210 CV_EVENT_FLAG_ALTKEY = 32
<a name="l00211"></a>00211 
<a name="l00212"></a>00212 CvMouseCallback = CFUNCTYPE(<span class="keywordtype">None</span>, <span class="comment"># void</span>
<a name="l00213"></a>00213     c_int, <span class="comment"># int event</span>
<a name="l00214"></a>00214     c_int, <span class="comment"># int x</span>
<a name="l00215"></a>00215     c_int, <span class="comment"># int y</span>
<a name="l00216"></a>00216     c_int, <span class="comment"># int flags</span>
<a name="l00217"></a>00217     c_void_p) <span class="comment"># void* param</span>
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 <span class="comment"># Define NULL pointer that matches callback type for when no callback is needed</span>
<a name="l00220"></a>00220 CvMouseCallback_NULL = cast(<span class="keywordtype">None</span>, CvMouseCallback)
<a name="l00221"></a>00221 
<a name="l00222"></a>00222 <span class="comment"># Assigns callback for mouse events</span>
<a name="l00223"></a>00223 _cvSetMouseCallback = cfunc(<span class="stringliteral">&#39;cvSetMouseCallback&#39;</span>, _hgDLL, <span class="keywordtype">None</span>,
<a name="l00224"></a>00224     (<span class="stringliteral">&#39;window_name&#39;</span>, c_char_p, 1), <span class="comment"># const char* window_name</span>
<a name="l00225"></a>00225     (<span class="stringliteral">&#39;on_mouse&#39;</span>, CvMouseCallback, 1), <span class="comment"># CvMouseCallback on_mouse</span>
<a name="l00226"></a>00226     (<span class="stringliteral">&#39;param&#39;</span>, c_void_p, 1, <span class="keywordtype">None</span>), <span class="comment"># void* param</span>
<a name="l00227"></a>00227 )
<a name="l00228"></a>00228 
<a name="l00229"></a>00229 <span class="keyword">def </span>cvSetMouseCallback(window_name, on_mouse, param=None):
<a name="l00230"></a>00230     <span class="stringliteral">&quot;&quot;&quot;void cvSetMouseCallback( const char* window_name, CvMouseCallback on_mouse, void* param=NULL )</span>
<a name="l00231"></a>00231 <span class="stringliteral"></span>
<a name="l00232"></a>00232 <span class="stringliteral">    Assigns callback for mouse events</span>
<a name="l00233"></a>00233 <span class="stringliteral">    &quot;&quot;&quot;</span>
<a name="l00234"></a>00234 
<a name="l00235"></a>00235     <span class="keywordflow">if</span> param <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> isinstance(param, c_void_p):
<a name="l00236"></a>00236         orig_param = <span class="keywordtype">None</span>
<a name="l00237"></a>00237     <span class="keywordflow">else</span>:
<a name="l00238"></a>00238         orig_param = param
<a name="l00239"></a>00239         param = c_void_p(addressof(param))
<a name="l00240"></a>00240 
<a name="l00241"></a>00241     <span class="keywordflow">if</span> on_mouse <span class="keywordflow">is</span> <span class="keywordtype">None</span>:
<a name="l00242"></a>00242         on_mouse = CvMouseCallback_NULL
<a name="l00243"></a>00243     <span class="keywordflow">else</span>:
<a name="l00244"></a>00244         on_mouse = CvMouseCallback(on_mouse) <span class="comment"># convert to C callback function</span>
<a name="l00245"></a>00245 
<a name="l00246"></a>00246     <span class="comment"># Set the new callback first, so we don&#39;t release the callback function</span>
<a name="l00247"></a>00247     <span class="comment"># pointer until the highgui library is already associated with the new</span>
<a name="l00248"></a>00248     <span class="comment"># function.  Also, save references to the parameter (and if we wrapped it</span>
<a name="l00249"></a>00249     <span class="comment"># to the original object) so they are guaranteed to remain alive while</span>
<a name="l00250"></a>00250     <span class="comment"># the OpenCV code may reference them.</span>
<a name="l00251"></a>00251     _cvSetMouseCallback(window_name, on_mouse, param=param)
<a name="l00252"></a>00252     _windows_callbacks.setdefault(window_name,{})[<span class="stringliteral">&quot;mouse&quot;</span>] = (on_mouse,
<a name="l00253"></a>00253                                                               param, orig_param)
<a name="l00254"></a>00254 
<a name="l00255"></a>00255 <span class="comment"># Waits for a pressed key</span>
<a name="l00256"></a>00256 cvWaitKey = cfunc(<span class="stringliteral">&#39;cvWaitKey&#39;</span>, _hgDLL, c_int,
<a name="l00257"></a>00257     (<span class="stringliteral">&#39;delay&#39;</span>, c_int, 1, 0), <span class="comment"># int delay</span>
<a name="l00258"></a>00258 )
<a name="l00259"></a>00259 cvWaitKey.__doc__ = <span class="stringliteral">&quot;&quot;&quot;int cvWaitKey(int delay=0)</span>
<a name="l00260"></a>00260 <span class="stringliteral"></span>
<a name="l00261"></a>00261 <span class="stringliteral">Waits for a pressed key</span>
<a name="l00262"></a>00262 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00263"></a>00263 
<a name="l00264"></a>00264 <span class="comment">#-----------------------------------------------------------------------------</span>
<a name="l00265"></a>00265 <span class="comment"># Loading and Saving Images</span>
<a name="l00266"></a>00266 <span class="comment">#-----------------------------------------------------------------------------</span>
<a name="l00267"></a>00267 
<a name="l00268"></a>00268 
<a name="l00269"></a>00269 CV_LOAD_IMAGE_UNCHANGED = -1 <span class="comment"># 8 bit, color or gray - deprecated, use CV_LOAD_IMAGE_ANYCOLOR</span>
<a name="l00270"></a>00270 CV_LOAD_IMAGE_GRAYSCALE =  0 <span class="comment"># 8 bit, gray</span>
<a name="l00271"></a>00271 CV_LOAD_IMAGE_COLOR     =  1 <span class="comment"># 8 bit unless combined with CV_LOAD_IMAGE_ANYDEPTH, color</span>
<a name="l00272"></a>00272 CV_LOAD_IMAGE_ANYDEPTH  =  2 <span class="comment"># any depth, if specified on its own gray by itself</span>
<a name="l00273"></a>00273                              <span class="comment"># equivalent to CV_LOAD_IMAGE_UNCHANGED but can be modified</span>
<a name="l00274"></a>00274                              <span class="comment"># with CV_LOAD_IMAGE_ANYDEPTH</span>
<a name="l00275"></a>00275 CV_LOAD_IMAGE_ANYCOLOR  =  4
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 
<a name="l00278"></a>00278 <span class="comment"># Loads an image from file</span>
<a name="l00279"></a>00279 _cvLoadImage = cfunc(<span class="stringliteral">&#39;cvLoadImage&#39;</span>, _hgDLL, IplImage_p,
<a name="l00280"></a>00280     (<span class="stringliteral">&#39;filename&#39;</span>, c_char_p, 1), <span class="comment"># const char* filename</span>
<a name="l00281"></a>00281     (<span class="stringliteral">&#39;iscolor&#39;</span>, c_int, 1, 1), <span class="comment"># int iscolor</span>
<a name="l00282"></a>00282 )
<a name="l00283"></a>00283 
<a name="l00284"></a>00284 <span class="keyword">def </span>cvLoadImage(filename, iscolor=1):
<a name="l00285"></a>00285     <span class="stringliteral">&quot;&quot;&quot;IplImage cvLoadImage(const char* filename, int iscolor=1)</span>
<a name="l00286"></a>00286 <span class="stringliteral"></span>
<a name="l00287"></a>00287 <span class="stringliteral">    Loads an image from file</span>
<a name="l00288"></a>00288 <span class="stringliteral">    &quot;&quot;&quot;</span>
<a name="l00289"></a>00289     z = pointee(_cvLoadImage(filename, iscolor))
<a name="l00290"></a>00290     <span class="keywordflow">if</span> z <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:
<a name="l00291"></a>00291         z._owner = 3 <span class="comment"># both header and data</span>
<a name="l00292"></a>00292     <span class="keywordflow">return</span> z
<a name="l00293"></a>00293 
<a name="l00294"></a>00294 <span class="comment"># Saves an image to the file</span>
<a name="l00295"></a>00295 cvSaveImage = cfunc(<span class="stringliteral">&#39;cvSaveImage&#39;</span>, _hgDLL, c_int,
<a name="l00296"></a>00296     (<span class="stringliteral">&#39;filename&#39;</span>, c_char_p, 1), <span class="comment"># const char* filename</span>
<a name="l00297"></a>00297     (<span class="stringliteral">&#39;image&#39;</span>, CvArr_r, 1), <span class="comment"># const CvArr* image </span>
<a name="l00298"></a>00298 )
<a name="l00299"></a>00299 cvSaveImage.__doc__ = <span class="stringliteral">&quot;&quot;&quot;int cvSaveImage(const char* filename, const CvArr image)</span>
<a name="l00300"></a>00300 <span class="stringliteral"></span>
<a name="l00301"></a>00301 <span class="stringliteral">Saves an image to the file</span>
<a name="l00302"></a>00302 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00303"></a>00303 
<a name="l00304"></a>00304 
<a name="l00305"></a>00305 <span class="comment">#-----------------------------------------------------------------------------</span>
<a name="l00306"></a>00306 <span class="comment"># Video I/O Functions</span>
<a name="l00307"></a>00307 <span class="comment">#-----------------------------------------------------------------------------</span>
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 
<a name="l00310"></a>00310 CV_CAP_ANY = 0     <span class="comment"># autodetect</span>
<a name="l00311"></a>00311 CV_CAP_MIL = 100     <span class="comment"># MIL proprietary drivers</span>
<a name="l00312"></a>00312 CV_CAP_VFW = 200     <span class="comment"># platform native</span>
<a name="l00313"></a>00313 CV_CAP_V4L = 200
<a name="l00314"></a>00314 CV_CAP_V4L2 = 200
<a name="l00315"></a>00315 CV_CAP_FIREWARE = 300     <span class="comment"># IEEE 1394 drivers</span>
<a name="l00316"></a>00316 CV_CAP_IEEE1394 = 300
<a name="l00317"></a>00317 CV_CAP_DC1394 = 300
<a name="l00318"></a>00318 CV_CAP_CMU1394 = 300
<a name="l00319"></a>00319 CV_CAP_STEREO = 400     <span class="comment"># TYZX proprietary drivers</span>
<a name="l00320"></a>00320 CV_CAP_TYZX = 400
<a name="l00321"></a>00321 CV_TYZX_LEFT = 400
<a name="l00322"></a>00322 CV_TYZX_RIGHT = 401
<a name="l00323"></a>00323 CV_TYZX_COLOR = 402
<a name="l00324"></a>00324 CV_TYZX_Z = 403
<a name="l00325"></a>00325 CV_CAP_QT = 500     <span class="comment"># Quicktime</span>
<a name="l00326"></a>00326 
<a name="l00327"></a>00327 <span class="comment"># CvCapture, supposed to be a black box</span>
<a name="l00328"></a><a class="code" href="classctypes__opencv_1_1highgui_1_1_cv_capture.html">00328</a> <span class="keyword">class </span><a class="code" href="classctypes__opencv_1_1highgui_1_1_cv_capture.html">CvCapture</a>(<a class="code" href="classctypes__opencv_1_1cxcore_1_1___structure.html">_Structure</a>):
<a name="l00329"></a>00329     fields = []
<a name="l00330"></a>00330     
<a name="l00331"></a>00331     <span class="keyword">def </span>__del__(self):
<a name="l00332"></a>00332         _cvReleaseCapture(CvCapture_p(self))
<a name="l00333"></a>00333         
<a name="l00334"></a>00334 CvCapture_p = POINTER(CvCapture)
<a name="l00335"></a>00335 CvCapture_r = ByRefArg(CvCapture)
<a name="l00336"></a>00336     
<a name="l00337"></a>00337 <span class="comment"># Releases the CvCapture structure</span>
<a name="l00338"></a>00338 _cvReleaseCapture = cfunc(<span class="stringliteral">&#39;cvReleaseCapture&#39;</span>, _hgDLL, <span class="keywordtype">None</span>,
<a name="l00339"></a>00339     (<span class="stringliteral">&#39;capture&#39;</span>, ByRefArg(CvCapture_p), 1), <span class="comment"># CvCapture** capture </span>
<a name="l00340"></a>00340 )
<a name="l00341"></a>00341 
<a name="l00342"></a>00342 <span class="comment"># Initializes capturing video from file</span>
<a name="l00343"></a>00343 _cvCreateFileCapture = cfunc(<span class="stringliteral">&#39;cvCreateFileCapture&#39;</span>, _hgDLL, CvCapture_p,
<a name="l00344"></a>00344     (<span class="stringliteral">&#39;filename&#39;</span>, c_char_p, 1), <span class="comment"># const char* filename </span>
<a name="l00345"></a>00345 )
<a name="l00346"></a>00346 
<a name="l00347"></a>00347 <span class="keyword">def </span>cvCreateFileCapture(filename):
<a name="l00348"></a>00348     <span class="stringliteral">&quot;&quot;&quot;CvCapture cvCreateFileCapture(const char* filename)</span>
<a name="l00349"></a>00349 <span class="stringliteral"></span>
<a name="l00350"></a>00350 <span class="stringliteral">    Initializes capturing video from file</span>
<a name="l00351"></a>00351 <span class="stringliteral">    [ctypes-opencv] returns None if no capture is created</span>
<a name="l00352"></a>00352 <span class="stringliteral">    &quot;&quot;&quot;</span>
<a name="l00353"></a>00353     <span class="keywordflow">return</span> pointee(_cvCreateFileCapture(filename))
<a name="l00354"></a>00354 
<a name="l00355"></a>00355 cvCaptureFromFile = cvCreateFileCapture
<a name="l00356"></a>00356 cvCaptureFromAVI = cvCaptureFromFile
<a name="l00357"></a>00357 
<a name="l00358"></a>00358 <span class="comment"># Initializes capturing video from camera</span>
<a name="l00359"></a>00359 _cvCreateCameraCapture = cfunc(<span class="stringliteral">&#39;cvCreateCameraCapture&#39;</span>, _hgDLL, CvCapture_p,
<a name="l00360"></a>00360     (<span class="stringliteral">&#39;index&#39;</span>, c_int, 1), <span class="comment"># int index </span>
<a name="l00361"></a>00361 )
<a name="l00362"></a>00362 
<a name="l00363"></a>00363 <span class="keyword">def </span>cvCreateCameraCapture(index):
<a name="l00364"></a>00364     <span class="stringliteral">&quot;&quot;&quot;CvCapture cvCreateCameraCapture(int index)</span>
<a name="l00365"></a>00365 <span class="stringliteral"></span>
<a name="l00366"></a>00366 <span class="stringliteral">    Initializes capturing video from camera</span>
<a name="l00367"></a>00367 <span class="stringliteral">    [ctypes-opencv] returns None if no capture is created</span>
<a name="l00368"></a>00368 <span class="stringliteral">    &quot;&quot;&quot;</span>
<a name="l00369"></a>00369     <span class="keywordflow">return</span> pointee(_cvCreateCameraCapture(index))
<a name="l00370"></a>00370     
<a name="l00371"></a>00371 cvCaptureFromCAM = cvCreateCameraCapture
<a name="l00372"></a>00372 
<a name="l00373"></a>00373 <span class="comment"># Grabs frame from camera or file</span>
<a name="l00374"></a>00374 cvGrabFrame = cfunc(<span class="stringliteral">&#39;cvGrabFrame&#39;</span>, _hgDLL, c_int,
<a name="l00375"></a>00375     (<span class="stringliteral">&#39;capture&#39;</span>, CvCapture_r, 1), <span class="comment"># CvCapture* capture </span>
<a name="l00376"></a>00376 )
<a name="l00377"></a>00377 cvGrabFrame.__doc__ = <span class="stringliteral">&quot;&quot;&quot;int cvGrabFrame(CvCapture capture)</span>
<a name="l00378"></a>00378 <span class="stringliteral"></span>
<a name="l00379"></a>00379 <span class="stringliteral">Grabs frame from camera or file</span>
<a name="l00380"></a>00380 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00381"></a>00381 
<a name="l00382"></a>00382 <span class="comment"># Gets the image grabbed with cvGrabFrame</span>
<a name="l00383"></a>00383 _cvRetrieveFrame = cfunc(<span class="stringliteral">&#39;cvRetrieveFrame&#39;</span>, _hgDLL, IplImage_p,
<a name="l00384"></a>00384     (<span class="stringliteral">&#39;capture&#39;</span>, CvCapture_r, 1), <span class="comment"># CvCapture* capture </span>
<a name="l00385"></a>00385 )
<a name="l00386"></a>00386 
<a name="l00387"></a>00387 <span class="keyword">def </span>cvRetrieveFrame(capture):
<a name="l00388"></a>00388     <span class="stringliteral">&quot;&quot;&quot;IplImage cvRetrieveFrame(CvCapture capture)</span>
<a name="l00389"></a>00389 <span class="stringliteral"></span>
<a name="l00390"></a>00390 <span class="stringliteral">    Gets the image grabbed with cvGrabFrame</span>
<a name="l00391"></a>00391 <span class="stringliteral">    &quot;&quot;&quot;</span>
<a name="l00392"></a>00392     z = pointee(_cvRetrieveFrame(capture), capture)
<a name="l00393"></a>00393     <span class="keywordflow">if</span> z <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:
<a name="l00394"></a>00394         z._owner = 0 <span class="comment"># capture owns it</span>
<a name="l00395"></a>00395     <span class="keywordflow">return</span> z
<a name="l00396"></a>00396 
<a name="l00397"></a>00397 <span class="comment"># Grabs and returns a frame from camera or file</span>
<a name="l00398"></a>00398 _cvQueryFrame = cfunc(<span class="stringliteral">&#39;cvQueryFrame&#39;</span>, _hgDLL, IplImage_p,
<a name="l00399"></a>00399     (<span class="stringliteral">&#39;capture&#39;</span>, CvCapture_r, 1), <span class="comment"># CvCapture* capture </span>
<a name="l00400"></a>00400 )
<a name="l00401"></a>00401 
<a name="l00402"></a>00402 <span class="keyword">def </span>cvQueryFrame(capture):
<a name="l00403"></a>00403     <span class="stringliteral">&quot;&quot;&quot;IplImage cvQueryFrame(CvCapture capture)</span>
<a name="l00404"></a>00404 <span class="stringliteral"></span>
<a name="l00405"></a>00405 <span class="stringliteral">    Grabs and returns a frame from camera or file</span>
<a name="l00406"></a>00406 <span class="stringliteral">    &quot;&quot;&quot;</span>
<a name="l00407"></a>00407     z = pointee(_cvQueryFrame(capture), capture)
<a name="l00408"></a>00408     <span class="keywordflow">if</span> z <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:
<a name="l00409"></a>00409         z._owner = 0 <span class="comment"># capture owns it</span>
<a name="l00410"></a>00410     <span class="keywordflow">return</span> z
<a name="l00411"></a>00411 
<a name="l00412"></a>00412 CV_CAP_PROP_POS_MSEC      = 0
<a name="l00413"></a>00413 CV_CAP_PROP_POS_FRAMES    = 1
<a name="l00414"></a>00414 CV_CAP_PROP_POS_AVI_RATIO = 2
<a name="l00415"></a>00415 CV_CAP_PROP_FRAME_WIDTH   = 3
<a name="l00416"></a>00416 CV_CAP_PROP_FRAME_HEIGHT  = 4
<a name="l00417"></a>00417 CV_CAP_PROP_FPS           = 5
<a name="l00418"></a>00418 CV_CAP_PROP_FOURCC        = 6
<a name="l00419"></a>00419 CV_CAP_PROP_FRAME_COUNT   = 7
<a name="l00420"></a>00420 CV_CAP_PROP_FORMAT        = 8
<a name="l00421"></a>00421 CV_CAP_PROP_MODE          = 9
<a name="l00422"></a>00422 CV_CAP_PROP_BRIGHTNESS    =10
<a name="l00423"></a>00423 CV_CAP_PROP_CONTRAST      =11
<a name="l00424"></a>00424 CV_CAP_PROP_SATURATION    =12
<a name="l00425"></a>00425 CV_CAP_PROP_HUE           =13
<a name="l00426"></a>00426 CV_CAP_PROP_GAIN          =14
<a name="l00427"></a>00427 CV_CAP_PROP_CONVERT_RGB   =15
<a name="l00428"></a>00428 
<a name="l00429"></a>00429 <span class="keyword">def </span>CV_FOURCC(c1,c2,c3,c4):
<a name="l00430"></a>00430     <span class="keywordflow">return</span> (((ord(c1))&amp;255) + (((ord(c2))&amp;255)&lt;&lt;8) + (((ord(c3))&amp;255)&lt;&lt;16) + (((ord(c4))&amp;255)&lt;&lt;24))
<a name="l00431"></a>00431     
<a name="l00432"></a>00432 CV_FOURCC_PROMPT = -1 <span class="comment"># Windows only</span>
<a name="l00433"></a>00433 CV_FOURCC_DEFAULT = -1 <span class="comment"># Linux only</span>
<a name="l00434"></a>00434 
<a name="l00435"></a>00435 <span class="comment"># Gets video capturing properties</span>
<a name="l00436"></a>00436 cvGetCaptureProperty = cfunc(<span class="stringliteral">&#39;cvGetCaptureProperty&#39;</span>, _hgDLL, c_double,
<a name="l00437"></a>00437     (<span class="stringliteral">&#39;capture&#39;</span>, CvCapture_r, 1), <span class="comment"># CvCapture* capture</span>
<a name="l00438"></a>00438     (<span class="stringliteral">&#39;property_id&#39;</span>, c_int, 1), <span class="comment"># int property_id </span>
<a name="l00439"></a>00439 )
<a name="l00440"></a>00440 cvGetCaptureProperty.__doc__ = <span class="stringliteral">&quot;&quot;&quot;double cvGetCaptureProperty(CvCapture capture, int property_id)</span>
<a name="l00441"></a>00441 <span class="stringliteral"></span>
<a name="l00442"></a>00442 <span class="stringliteral">Gets video capturing properties</span>
<a name="l00443"></a>00443 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00444"></a>00444 
<a name="l00445"></a>00445 <span class="comment"># Sets video capturing properties</span>
<a name="l00446"></a>00446 cvSetCaptureProperty = cfunc(<span class="stringliteral">&#39;cvSetCaptureProperty&#39;</span>, _hgDLL, c_int,
<a name="l00447"></a>00447     (<span class="stringliteral">&#39;capture&#39;</span>, CvCapture_r, 1), <span class="comment"># CvCapture* capture</span>
<a name="l00448"></a>00448     (<span class="stringliteral">&#39;property_id&#39;</span>, c_int, 1), <span class="comment"># int property_id</span>
<a name="l00449"></a>00449     (<span class="stringliteral">&#39;value&#39;</span>, c_double, 1), <span class="comment"># double value </span>
<a name="l00450"></a>00450 )
<a name="l00451"></a>00451 cvSetCaptureProperty.__doc__ = <span class="stringliteral">&quot;&quot;&quot;int cvSetCaptureProperty(CvCapture capture, int property_id, double value)</span>
<a name="l00452"></a>00452 <span class="stringliteral"></span>
<a name="l00453"></a>00453 <span class="stringliteral">Sets video capturing properties</span>
<a name="l00454"></a>00454 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00455"></a>00455 
<a name="l00456"></a>00456 <span class="comment"># CvVideoWriter, supposed to be a black box</span>
<a name="l00457"></a><a class="code" href="classctypes__opencv_1_1highgui_1_1_cv_video_writer.html">00457</a> <span class="keyword">class </span><a class="code" href="classctypes__opencv_1_1highgui_1_1_cv_video_writer.html">CvVideoWriter</a>(<a class="code" href="classctypes__opencv_1_1cxcore_1_1___structure.html">_Structure</a>):
<a name="l00458"></a>00458     _fields_ = []
<a name="l00459"></a>00459     
<a name="l00460"></a>00460     <span class="keyword">def </span>__del__(self):
<a name="l00461"></a>00461         _cvReleaseVideoWriter(CvVideoWriter_p(self))
<a name="l00462"></a>00462         
<a name="l00463"></a>00463 CvVideoWriter_p = POINTER(CvVideoWriter)
<a name="l00464"></a>00464 CvVideoWriter_r = ByRefArg(CvVideoWriter)
<a name="l00465"></a>00465     
<a name="l00466"></a>00466 <span class="comment"># Releases AVI writer</span>
<a name="l00467"></a>00467 _cvReleaseVideoWriter = cfunc(<span class="stringliteral">&#39;cvReleaseVideoWriter&#39;</span>, _hgDLL, <span class="keywordtype">None</span>,
<a name="l00468"></a>00468     (<span class="stringliteral">&#39;writer&#39;</span>, ByRefArg(CvVideoWriter_p), 1), <span class="comment"># CvVideoWriter** writer </span>
<a name="l00469"></a>00469 )
<a name="l00470"></a>00470 
<a name="l00471"></a>00471 <span class="comment"># Creates video file writer</span>
<a name="l00472"></a>00472 _cvCreateVideoWriter = cfunc(<span class="stringliteral">&#39;cvCreateVideoWriter&#39;</span>, _hgDLL, CvVideoWriter_p,
<a name="l00473"></a>00473     (<span class="stringliteral">&#39;filename&#39;</span>, c_char_p, 1), <span class="comment"># const char* filename</span>
<a name="l00474"></a>00474     (<span class="stringliteral">&#39;fourcc&#39;</span>, c_int, 1), <span class="comment"># int fourcc</span>
<a name="l00475"></a>00475     (<span class="stringliteral">&#39;fps&#39;</span>, c_double, 1), <span class="comment"># double fps</span>
<a name="l00476"></a>00476     (<span class="stringliteral">&#39;frame_size&#39;</span>, CvSize, 1), <span class="comment"># CvSize frame_size</span>
<a name="l00477"></a>00477     (<span class="stringliteral">&#39;is_color&#39;</span>, c_int, 1, 1), <span class="comment"># int is_color</span>
<a name="l00478"></a>00478 )
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 <span class="keyword">def </span>cvCreateVideoWriter(filename, fourcc, fps, frame_size, is_color=1):
<a name="l00481"></a>00481     <span class="stringliteral">&quot;&quot;&quot;CvVideoWriter cvCreateVideoWriter(const char* filename, int fourcc, double fps, CvSize frame_size, int is_color=1)</span>
<a name="l00482"></a>00482 <span class="stringliteral"></span>
<a name="l00483"></a>00483 <span class="stringliteral">    Creates video file writer</span>
<a name="l00484"></a>00484 <span class="stringliteral">    [ctypes-opencv] returns None if no writer is created</span>
<a name="l00485"></a>00485 <span class="stringliteral">    &quot;&quot;&quot;</span>
<a name="l00486"></a>00486     <span class="keywordflow">return</span> pointee(_cvCreateVideoWriter(filename, fourcc, fps, frame_size, is_color))
<a name="l00487"></a>00487 
<a name="l00488"></a>00488 cvCreateAVIWriter = cvCreateVideoWriter
<a name="l00489"></a>00489 
<a name="l00490"></a>00490 <span class="comment"># Writes a frame to video file</span>
<a name="l00491"></a>00491 cvWriteFrame = cfunc(<span class="stringliteral">&#39;cvWriteFrame&#39;</span>, _hgDLL, c_int,
<a name="l00492"></a>00492     (<span class="stringliteral">&#39;writer&#39;</span>, CvVideoWriter_r, 1), <span class="comment"># CvVideoWriter* writer</span>
<a name="l00493"></a>00493     (<span class="stringliteral">&#39;image&#39;</span>, IplImage_r, 1), <span class="comment"># const IplImage* image </span>
<a name="l00494"></a>00494 )
<a name="l00495"></a>00495 cvWriteFrame.__doc__ = <span class="stringliteral">&quot;&quot;&quot;int cvWriteFrame(CvVideoWriter writer, const IplImage image)</span>
<a name="l00496"></a>00496 <span class="stringliteral"></span>
<a name="l00497"></a>00497 <span class="stringliteral">Writes a frame to video file</span>
<a name="l00498"></a>00498 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00499"></a>00499 
<a name="l00500"></a>00500 cvWriteToAVI = cvWriteFrame
<a name="l00501"></a>00501 
<a name="l00502"></a>00502 
<a name="l00503"></a>00503 <span class="comment">#-----------------------------------------------------------------------------</span>
<a name="l00504"></a>00504 <span class="comment"># Utility and System Functions</span>
<a name="l00505"></a>00505 <span class="comment">#-----------------------------------------------------------------------------</span>
<a name="l00506"></a>00506 
<a name="l00507"></a>00507 
<a name="l00508"></a>00508 <span class="comment"># Initializes HighGUI</span>
<a name="l00509"></a>00509 cvInitSystem = cfunc(<span class="stringliteral">&#39;cvInitSystem&#39;</span>, _hgDLL, c_int,
<a name="l00510"></a>00510     (<span class="stringliteral">&#39;argc&#39;</span>, c_int, 1), <span class="comment"># int argc</span>
<a name="l00511"></a>00511     (<span class="stringliteral">&#39;argv&#39;</span>, POINTER(c_char_p), 1), <span class="comment"># char** argv </span>
<a name="l00512"></a>00512 )
<a name="l00513"></a>00513 cvInitSystem.__doc__ = <span class="stringliteral">&quot;&quot;&quot;int cvInitSystem(int argc, char** argv)</span>
<a name="l00514"></a>00514 <span class="stringliteral"></span>
<a name="l00515"></a>00515 <span class="stringliteral">Initializes HighGUI</span>
<a name="l00516"></a>00516 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00517"></a>00517 
<a name="l00518"></a>00518 CV_CVTIMG_FLIP = 1
<a name="l00519"></a>00519 CV_CVTIMG_SWAP_RB = 2
<a name="l00520"></a>00520 
<a name="l00521"></a>00521 <span class="comment"># Converts one image to another with optional vertical flip</span>
<a name="l00522"></a>00522 cvConvertImage = cfunc(<span class="stringliteral">&#39;cvConvertImage&#39;</span>, _hgDLL, <span class="keywordtype">None</span>,
<a name="l00523"></a>00523     (<span class="stringliteral">&#39;src&#39;</span>, CvArr_r, 1), <span class="comment"># const CvArr* src</span>
<a name="l00524"></a>00524     (<span class="stringliteral">&#39;dst&#39;</span>, CvArr_r, 1), <span class="comment"># CvArr* dst</span>
<a name="l00525"></a>00525     (<span class="stringliteral">&#39;flags&#39;</span>, c_int, 1, 0), <span class="comment"># int flags</span>
<a name="l00526"></a>00526 )
<a name="l00527"></a>00527 cvConvertImage.__doc__ = <span class="stringliteral">&quot;&quot;&quot;void cvConvertImage(const CvArr src, CvArr dst, int flags=0)</span>
<a name="l00528"></a>00528 <span class="stringliteral"></span>
<a name="l00529"></a>00529 <span class="stringliteral">Converts one image to another with optional vertical flip</span>
<a name="l00530"></a>00530 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00531"></a>00531 
<a name="l00532"></a>00532 <span class="comment"># Start a new thread in X Window</span>
<a name="l00533"></a>00533 cvStartWindowThread = cfunc(<span class="stringliteral">&#39;cvStartWindowThread&#39;</span>, _hgDLL, c_int,
<a name="l00534"></a>00534 )
<a name="l00535"></a>00535 cvStartWindowThread.__doc__ = <span class="stringliteral">&quot;&quot;&quot;int cvStartWindowThread()</span>
<a name="l00536"></a>00536 <span class="stringliteral"></span>
<a name="l00537"></a>00537 <span class="stringliteral">Starts a new thread for rendering in X Window</span>
<a name="l00538"></a>00538 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00539"></a>00539 
<a name="l00540"></a>00540 
<a name="l00541"></a>00541 <span class="comment"># --- 1 Simple GUI -----------------------------------------------------------</span>
<a name="l00542"></a>00542 
<a name="l00543"></a>00543 <span class="comment"># --- 2 Loading and Saving Images --------------------------------------------</span>
<a name="l00544"></a>00544 
<a name="l00545"></a>00545 <span class="comment"># --- 3 Video I/O functions --------------------------------------------------</span>
<a name="l00546"></a>00546 
<a name="l00547"></a>00547 <span class="comment"># --- 4 Utility and System Functions -----------------------------------------</span>
<a name="l00548"></a>00548 
<a name="l00549"></a>00549 
<a name="l00550"></a>00550 <span class="comment">#</span>
<a name="l00551"></a>00551 <span class="comment">#-----------------------------------------------------------------------------</span>
<a name="l00552"></a>00552 <span class="comment">#</span>
<a name="l00553"></a>00553 
<a name="l00554"></a>00554 <span class="comment"># Automatically destroy any remaining tracked windows at process exit,</span>
<a name="l00555"></a>00555 <span class="comment"># otherwise our references to ctypes objects may be destroyed by the normal</span>
<a name="l00556"></a>00556 <span class="comment"># interpreter cleanup before the highgui library cleans up fully, leaving us</span>
<a name="l00557"></a>00557 <span class="comment"># exposed to exceptions.</span>
<a name="l00558"></a>00558 
<a name="l00559"></a>00559 <span class="keyword">import</span> atexit
<a name="l00560"></a>00560 atexit.register(cvDestroyAllWindows)
<a name="l00561"></a>00561 
<a name="l00562"></a>00562 <span class="comment">#=============================================================================</span>
<a name="l00563"></a>00563 <span class="comment"># Wrap up all the functions and constants into __all__</span>
<a name="l00564"></a>00564 <span class="comment">#=============================================================================</span>
<a name="l00565"></a>00565 __all__ = [x <span class="keywordflow">for</span> x <span class="keywordflow">in</span> locals().keys() \
<a name="l00566"></a>00566     <span class="keywordflow">if</span>  x.startswith(<span class="stringliteral">&#39;CV&#39;</span>) <span class="keywordflow">or</span> \
<a name="l00567"></a>00567         x.startswith(<span class="stringliteral">&#39;cv&#39;</span>) <span class="keywordflow">or</span> \
<a name="l00568"></a>00568         x.startswith(<span class="stringliteral">&#39;Cv&#39;</span>) <span class="keywordflow">or</span> \
<a name="l00569"></a>00569         x.startswith(<span class="stringliteral">&#39;IPL&#39;</span>) <span class="keywordflow">or</span> \
<a name="l00570"></a>00570         x.startswith(<span class="stringliteral">&#39;Ipl&#39;</span>) <span class="keywordflow">or</span> \
<a name="l00571"></a>00571         x.startswith(<span class="stringliteral">&#39;ipl&#39;</span>)]
<a name="l00572"></a>00572 
</pre></div></div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sun Apr 17 2011 00:21:22 for Border Surviellance Bot by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
