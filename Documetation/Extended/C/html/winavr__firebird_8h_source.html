<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Border Survillence Bot: /Users/harish/Downloads/cs308-group05/C-code/winavr_firebird.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Readme.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Border Survillence Bot&#160;<span id="projectnumber">Group V</span></div>
   <div id="projectbrief">An attempt to omplement border survillence using Firebird-V robot using Python.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">/Users/harish/Downloads/cs308-group05/C-code/winavr_firebird.h</div>  </div>
</div>
<div class="contents">
<a href="winavr__firebird_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00117"></a>00117 <span class="preprocessor">#include&lt;avr/io.h&gt;</span>
<a name="l00118"></a>00118 <span class="preprocessor">#include&lt;avr/interrupt.h&gt;</span>
<a name="l00119"></a>00119 <span class="preprocessor">#include&lt;util/delay.h&gt;</span>
<a name="l00120"></a>00120 <span class="preprocessor">#define FCPU 11059200ul ///defined here to make sure that program works properly</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span>
<a name="l00122"></a>00122 
<a name="l00123"></a><a class="code" href="winavr__firebird_8h.html#ad4d883fb592328b3a01dcd7c28b5a0ae">00123</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="winavr__firebird_8h.html#ad4d883fb592328b3a01dcd7c28b5a0ae" title="to keep track of left position encoder">ShaftCountLeft</a> = 0; 
<a name="l00124"></a><a class="code" href="winavr__firebird_8h.html#a397e402cf787d59092e911b079f08b12">00124</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> <a class="code" href="winavr__firebird_8h.html#a397e402cf787d59092e911b079f08b12" title="to keep track of right position encoder">ShaftCountRight</a> = 0; 
<a name="l00125"></a><a class="code" href="winavr__firebird_8h.html#a9719b725d5dde7ae77cf440b08ab2e21">00125</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="winavr__firebird_8h.html#a9719b725d5dde7ae77cf440b08ab2e21" title="to accept angle in degrees for turning">Degrees</a>; 
<a name="l00126"></a><a class="code" href="winavr__firebird_8h.html#a433b1c9921d3b90f7c145c781a43f325">00126</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="winavr__firebird_8h.html#a433b1c9921d3b90f7c145c781a43f325" title="to receive data through serial communication">data</a>; 
<a name="l00127"></a>00127 
<a name="l00129"></a><a class="code" href="winavr__firebird_8h.html#a16819c9ada3f08c407de422ec05e802f">00129</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a16819c9ada3f08c407de422ec05e802f">motion_pin_config</a>()
<a name="l00130"></a>00130 {
<a name="l00131"></a>00131  DDRA = DDRA | 0xCF;   
<a name="l00132"></a>00132  PORTA = PORTA &amp; 0x30; 
<a name="l00133"></a>00133  DDRL = DDRL | 0x18;   
<a name="l00134"></a>00134  PORTL = PORTL | 0x18; 
<a name="l00135"></a>00135 }
<a name="l00136"></a>00136 
<a name="l00137"></a>00137 
<a name="l00139"></a><a class="code" href="winavr__firebird_8h.html#ae20e0ac384c729be97c963cb470456a9">00139</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#ae20e0ac384c729be97c963cb470456a9" title="Function to configure INT4 (PORTE 4) pin as input for the left position encoder.">left_encoder_pin_config</a> (<span class="keywordtype">void</span>)
<a name="l00140"></a>00140 {
<a name="l00141"></a>00141  DDRE  = DDRE &amp; 0xEF;  
<a name="l00142"></a>00142  PORTE = PORTE | 0x10; 
<a name="l00143"></a>00143 }
<a name="l00144"></a>00144 
<a name="l00146"></a><a class="code" href="winavr__firebird_8h.html#a0db68d18b578ab9e12bc1d80915ef0d7">00146</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a0db68d18b578ab9e12bc1d80915ef0d7" title="Function to configure INT5 (PORTE 5) pin as input for the right position encoder.">right_encoder_pin_config</a> (<span class="keywordtype">void</span>)
<a name="l00147"></a>00147 {
<a name="l00148"></a>00148  DDRE  = DDRE &amp; 0xDF;  
<a name="l00149"></a>00149  PORTE = PORTE | 0x20; 
<a name="l00150"></a>00150 }
<a name="l00151"></a>00151 
<a name="l00153"></a><a class="code" href="winavr__firebird_8h.html#aff7831bb17c1206ab082415ee14e21b1">00153</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#aff7831bb17c1206ab082415ee14e21b1" title="Interrupt 4 enable.">left_position_encoder_interrupt_init</a> (<span class="keywordtype">void</span>) 
<a name="l00154"></a>00154 {
<a name="l00155"></a>00155  cli(); 
<a name="l00156"></a>00156  EICRB = EICRB | 0x02; 
<a name="l00157"></a>00157  EIMSK = EIMSK | 0x10; 
<a name="l00158"></a>00158  sei();   
<a name="l00159"></a>00159 }
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 <span class="comment">//Interrupt 5 enable</span>
<a name="l00162"></a><a class="code" href="winavr__firebird_8h.html#a1333f7476858c2d76f7d725dfb0e7d88">00162</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a1333f7476858c2d76f7d725dfb0e7d88">right_position_encoder_interrupt_init</a> (<span class="keywordtype">void</span>) 
<a name="l00163"></a>00163 {
<a name="l00164"></a>00164  cli(); 
<a name="l00165"></a>00165  EICRB = EICRB | 0x08; 
<a name="l00166"></a>00166  EIMSK = EIMSK | 0x20; 
<a name="l00167"></a>00167  sei();   
<a name="l00168"></a>00168 }
<a name="l00169"></a>00169 
<a name="l00171"></a><a class="code" href="winavr__firebird_8h.html#a5c2ba800834495bb295891490cb1c760">00171</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a5c2ba800834495bb295891490cb1c760" title="Function to Initialize PORTS.">port_init</a>()
<a name="l00172"></a>00172 {
<a name="l00173"></a>00173  <a class="code" href="winavr__firebird_8h.html#a16819c9ada3f08c407de422ec05e802f">motion_pin_config</a>();
<a name="l00174"></a>00174  <a class="code" href="winavr__firebird_8h.html#ae20e0ac384c729be97c963cb470456a9" title="Function to configure INT4 (PORTE 4) pin as input for the left position encoder.">left_encoder_pin_config</a>();
<a name="l00175"></a>00175  <a class="code" href="winavr__firebird_8h.html#a0db68d18b578ab9e12bc1d80915ef0d7" title="Function to configure INT5 (PORTE 5) pin as input for the right position encoder.">right_encoder_pin_config</a>();
<a name="l00176"></a>00176  <a class="code" href="winavr__firebird_8h.html#aff7831bb17c1206ab082415ee14e21b1" title="Interrupt 4 enable.">left_position_encoder_interrupt_init</a>();
<a name="l00177"></a>00177  <a class="code" href="winavr__firebird_8h.html#a1333f7476858c2d76f7d725dfb0e7d88">right_position_encoder_interrupt_init</a>();
<a name="l00178"></a>00178 }
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 
<a name="l00182"></a><a class="code" href="winavr__firebird_8h.html#a6225c50fbafa01589351ed487223aacb">00182</a> <a class="code" href="winavr__firebird_8h.html#a6225c50fbafa01589351ed487223aacb" title="ISR for right position encoder.">ISR</a>(INT5_vect)  
<a name="l00183"></a>00183 {
<a name="l00184"></a>00184  <a class="code" href="winavr__firebird_8h.html#a397e402cf787d59092e911b079f08b12" title="to keep track of right position encoder">ShaftCountRight</a>++;  
<a name="l00185"></a>00185 }
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 
<a name="l00189"></a><a class="code" href="winavr__firebird_8h.html#a98a290ada01eb27fd2ff4564371566e5">00189</a> <a class="code" href="winavr__firebird_8h.html#a6225c50fbafa01589351ed487223aacb" title="ISR for right position encoder.">ISR</a>(INT4_vect)
<a name="l00190"></a>00190 {
<a name="l00191"></a>00191  <a class="code" href="winavr__firebird_8h.html#ad4d883fb592328b3a01dcd7c28b5a0ae" title="to keep track of left position encoder">ShaftCountLeft</a>++;  
<a name="l00192"></a>00192 }
<a name="l00193"></a>00193 
<a name="l00194"></a>00194 
<a name="l00196"></a><a class="code" href="winavr__firebird_8h.html#a10cb8a1450bfb05cd9c72ad09ce7f2fe">00196</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a10cb8a1450bfb05cd9c72ad09ce7f2fe" title="Function used for setting motor&#39;s direction.">motion_set</a> (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> Direction)
<a name="l00197"></a>00197 {
<a name="l00198"></a>00198  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> PortARestore = 0;
<a name="l00199"></a>00199 
<a name="l00200"></a>00200  Direction &amp;= 0x0F;             
<a name="l00201"></a>00201  PortARestore = PORTA;          
<a name="l00202"></a>00202  PortARestore &amp;= 0xF0;          
<a name="l00203"></a>00203  PortARestore |= Direction; 
<a name="l00204"></a>00204  PORTA = PortARestore;          
<a name="l00205"></a>00205 }
<a name="l00206"></a>00206 
<a name="l00208"></a><a class="code" href="winavr__firebird_8h.html#a0b5f946b51550fe862b59f91ae5fe9f9">00208</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a0b5f946b51550fe862b59f91ae5fe9f9" title="both wheels forward">forward</a> (<span class="keywordtype">void</span>) 
<a name="l00209"></a>00209 {
<a name="l00210"></a>00210   <a class="code" href="winavr__firebird_8h.html#a10cb8a1450bfb05cd9c72ad09ce7f2fe" title="Function used for setting motor&#39;s direction.">motion_set</a> (0x06);
<a name="l00211"></a>00211 }
<a name="l00212"></a>00212 
<a name="l00214"></a><a class="code" href="winavr__firebird_8h.html#a3344ca821ab12c0ceaa9a9c03b473462">00214</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a3344ca821ab12c0ceaa9a9c03b473462" title="both wheels backward">back</a> (<span class="keywordtype">void</span>) 
<a name="l00215"></a>00215 {
<a name="l00216"></a>00216   <a class="code" href="winavr__firebird_8h.html#a10cb8a1450bfb05cd9c72ad09ce7f2fe" title="Function used for setting motor&#39;s direction.">motion_set</a>(0x09);
<a name="l00217"></a>00217 }
<a name="l00218"></a>00218 
<a name="l00220"></a><a class="code" href="winavr__firebird_8h.html#af58faf62f4e3606140250fb9ed314db5">00220</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#af58faf62f4e3606140250fb9ed314db5" title="Left wheel backward, Right wheel forward.">left</a> (<span class="keywordtype">void</span>) 
<a name="l00221"></a>00221 {
<a name="l00222"></a>00222   <a class="code" href="winavr__firebird_8h.html#a10cb8a1450bfb05cd9c72ad09ce7f2fe" title="Function used for setting motor&#39;s direction.">motion_set</a>(0x05);
<a name="l00223"></a>00223 }
<a name="l00224"></a>00224 
<a name="l00226"></a><a class="code" href="winavr__firebird_8h.html#ae56b9a694abd24fe3e7af591fc50b748">00226</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#ae56b9a694abd24fe3e7af591fc50b748" title="Left wheel forward, Right wheel backward.">right</a> (<span class="keywordtype">void</span>) 
<a name="l00227"></a>00227 {
<a name="l00228"></a>00228   <a class="code" href="winavr__firebird_8h.html#a10cb8a1450bfb05cd9c72ad09ce7f2fe" title="Function used for setting motor&#39;s direction.">motion_set</a>(0x0A);
<a name="l00229"></a>00229 }
<a name="l00230"></a>00230 
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 <span class="keywordtype">void</span> stop (<span class="keywordtype">void</span>)
<a name="l00233"></a>00233 {
<a name="l00234"></a>00234   <a class="code" href="winavr__firebird_8h.html#a10cb8a1450bfb05cd9c72ad09ce7f2fe" title="Function used for setting motor&#39;s direction.">motion_set</a> (0x00);
<a name="l00235"></a>00235 }
<a name="l00236"></a>00236 
<a name="l00237"></a>00237 
<a name="l00242"></a><a class="code" href="winavr__firebird_8h.html#a578f7cc9b705ce549aa856c927b102e8">00242</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a578f7cc9b705ce549aa856c927b102e8">timer5_init</a>()
<a name="l00243"></a>00243 {
<a name="l00244"></a>00244         TCCR5B = 0x00;  
<a name="l00245"></a>00245         TCNT5H = 0xFF;  
<a name="l00246"></a>00246         TCNT5L = 0x01;  
<a name="l00247"></a>00247         OCR5AH = 0x00;  
<a name="l00248"></a>00248         OCR5AL = 0xFF;  
<a name="l00249"></a>00249         OCR5BH = 0x00;  
<a name="l00250"></a>00250         OCR5BL = 0xFF;  
<a name="l00251"></a>00251         OCR5CH = 0x00;  
<a name="l00252"></a>00252         OCR5CL = 0xFF;  
<a name="l00253"></a>00253         TCCR5A = 0xA9;  
<a name="l00257"></a>00257         TCCR5B = 0x0B;  
<a name="l00258"></a>00258 }
<a name="l00259"></a>00259 
<a name="l00260"></a>00260 
<a name="l00262"></a><a class="code" href="winavr__firebird_8h.html#aa5ae897cf316acc5c766757ffd41db19">00262</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#aa5ae897cf316acc5c766757ffd41db19" title="Function for velocity control.">velocity</a> (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> left_motor, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> right_motor)
<a name="l00263"></a>00263 {
<a name="l00264"></a>00264         OCR5AL = (<span class="keywordtype">unsigned</span> char)left_motor;
<a name="l00265"></a>00265         OCR5BL = (<span class="keywordtype">unsigned</span> char)right_motor;
<a name="l00266"></a>00266 }
<a name="l00267"></a>00267 
<a name="l00268"></a>00268 
<a name="l00270"></a><a class="code" href="winavr__firebird_8h.html#ae79e92df10e04334f214055aa5b8c658">00270</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#ae79e92df10e04334f214055aa5b8c658" title="Function used for turning robot by specified degrees.">angle_rotate</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="winavr__firebird_8h.html#a9719b725d5dde7ae77cf440b08ab2e21" title="to accept angle in degrees for turning">Degrees</a>)
<a name="l00271"></a>00271 {
<a name="l00272"></a>00272  <span class="keywordtype">float</span> ReqdShaftCount = 0;
<a name="l00273"></a>00273  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> ReqdShaftCountInt = 0;
<a name="l00274"></a>00274 
<a name="l00275"></a>00275  ReqdShaftCount = (float) Degrees/ 4.090; 
<a name="l00276"></a>00276  ReqdShaftCountInt = (<span class="keywordtype">unsigned</span> int) ReqdShaftCount;
<a name="l00277"></a>00277  <a class="code" href="winavr__firebird_8h.html#a397e402cf787d59092e911b079f08b12" title="to keep track of right position encoder">ShaftCountRight</a> = 0; 
<a name="l00278"></a>00278  <a class="code" href="winavr__firebird_8h.html#ad4d883fb592328b3a01dcd7c28b5a0ae" title="to keep track of left position encoder">ShaftCountLeft</a> = 0; 
<a name="l00279"></a>00279 
<a name="l00280"></a>00280  <span class="keywordflow">while</span> (1)
<a name="l00281"></a>00281  {
<a name="l00282"></a>00282   <span class="keywordflow">if</span>((<a class="code" href="winavr__firebird_8h.html#a397e402cf787d59092e911b079f08b12" title="to keep track of right position encoder">ShaftCountRight</a> &gt; ReqdShaftCountInt) || (<a class="code" href="winavr__firebird_8h.html#ad4d883fb592328b3a01dcd7c28b5a0ae" title="to keep track of left position encoder">ShaftCountLeft</a> &gt; ReqdShaftCountInt))
<a name="l00283"></a>00283   {
<a name="l00284"></a>00284   <a class="code" href="winavr__firebird_8h.html#a397e402cf787d59092e911b079f08b12" title="to keep track of right position encoder">ShaftCountRight</a> = 0;
<a name="l00285"></a>00285   <a class="code" href="winavr__firebird_8h.html#ad4d883fb592328b3a01dcd7c28b5a0ae" title="to keep track of left position encoder">ShaftCountLeft</a> = 0;
<a name="l00286"></a>00286   <span class="keywordflow">break</span>;
<a name="l00287"></a>00287   }
<a name="l00288"></a>00288  }
<a name="l00289"></a>00289  }
<a name="l00290"></a>00290 
<a name="l00291"></a>00291 
<a name="l00293"></a>00293 
<a name="l00294"></a><a class="code" href="winavr__firebird_8h.html#afc027345bdb5eb901ff0d7aa5ffa7306">00294</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#afc027345bdb5eb901ff0d7aa5ffa7306" title="Function used for moving robot forward by specified distance.">linear_distance_mm</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> DistanceInMM)
<a name="l00295"></a>00295 {
<a name="l00296"></a>00296  <span class="keywordtype">float</span> ReqdShaftCount = 0;
<a name="l00297"></a>00297  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> ReqdShaftCountInt = 0;
<a name="l00298"></a>00298 
<a name="l00299"></a>00299  ReqdShaftCount = DistanceInMM / 5.338; 
<a name="l00300"></a>00300  ReqdShaftCountInt = (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> int) ReqdShaftCount;
<a name="l00301"></a>00301   
<a name="l00302"></a>00302  <a class="code" href="winavr__firebird_8h.html#a397e402cf787d59092e911b079f08b12" title="to keep track of right position encoder">ShaftCountRight</a> = 0;
<a name="l00303"></a>00303  
<a name="l00304"></a>00304  <span class="keywordflow">while</span>(1)
<a name="l00305"></a>00305  {
<a name="l00306"></a>00306   <span class="keywordflow">if</span>(<a class="code" href="winavr__firebird_8h.html#a397e402cf787d59092e911b079f08b12" title="to keep track of right position encoder">ShaftCountRight</a> &gt; ReqdShaftCountInt || <a class="code" href="winavr__firebird_8h.html#ad4d883fb592328b3a01dcd7c28b5a0ae" title="to keep track of left position encoder">ShaftCountLeft</a> &gt; ReqdShaftCountInt )
<a name="l00307"></a>00307   {
<a name="l00308"></a>00308   <a class="code" href="winavr__firebird_8h.html#a397e402cf787d59092e911b079f08b12" title="to keep track of right position encoder">ShaftCountRight</a> = 0;
<a name="l00309"></a>00309   <a class="code" href="winavr__firebird_8h.html#ad4d883fb592328b3a01dcd7c28b5a0ae" title="to keep track of left position encoder">ShaftCountLeft</a> = 0;
<a name="l00310"></a>00310   <span class="keywordflow">break</span>;
<a name="l00311"></a>00311   }
<a name="l00312"></a>00312  } 
<a name="l00313"></a>00313  stop(); <span class="comment">//Stop action</span>
<a name="l00314"></a>00314 }
<a name="l00315"></a>00315 
<a name="l00317"></a><a class="code" href="winavr__firebird_8h.html#a3a0711f34af615c274e67a580696f9ad">00317</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a3a0711f34af615c274e67a580696f9ad" title="move forward by specified distance">forward_mm</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> DistanceInMM)
<a name="l00318"></a>00318 {
<a name="l00319"></a>00319  <a class="code" href="winavr__firebird_8h.html#a0b5f946b51550fe862b59f91ae5fe9f9" title="both wheels forward">forward</a>();
<a name="l00320"></a>00320  <a class="code" href="winavr__firebird_8h.html#afc027345bdb5eb901ff0d7aa5ffa7306" title="Function used for moving robot forward by specified distance.">linear_distance_mm</a>(DistanceInMM);
<a name="l00321"></a>00321 }
<a name="l00322"></a>00322 
<a name="l00324"></a><a class="code" href="winavr__firebird_8h.html#a211524abdbae5dd0a77807b843ec60c7">00324</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a211524abdbae5dd0a77807b843ec60c7" title="move backward by specified distance">back_mm</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> DistanceInMM)
<a name="l00325"></a>00325 {
<a name="l00326"></a>00326  <a class="code" href="winavr__firebird_8h.html#a3344ca821ab12c0ceaa9a9c03b473462" title="both wheels backward">back</a>();;
<a name="l00327"></a>00327  <a class="code" href="winavr__firebird_8h.html#afc027345bdb5eb901ff0d7aa5ffa7306" title="Function used for moving robot forward by specified distance.">linear_distance_mm</a>(DistanceInMM);
<a name="l00328"></a>00328  
<a name="l00329"></a>00329 }
<a name="l00330"></a>00330 
<a name="l00332"></a><a class="code" href="winavr__firebird_8h.html#afb8f5ede968f85a107d7bd0e5017634f">00332</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#afb8f5ede968f85a107d7bd0e5017634f" title="rotate left by specified degrees">left_degrees</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="winavr__firebird_8h.html#a9719b725d5dde7ae77cf440b08ab2e21" title="to accept angle in degrees for turning">Degrees</a>) 
<a name="l00333"></a>00333 {
<a name="l00335"></a>00335  <a class="code" href="winavr__firebird_8h.html#af58faf62f4e3606140250fb9ed314db5" title="Left wheel backward, Right wheel forward.">left</a>(); <span class="comment">//Turn left</span>
<a name="l00336"></a>00336  <a class="code" href="winavr__firebird_8h.html#ae79e92df10e04334f214055aa5b8c658" title="Function used for turning robot by specified degrees.">angle_rotate</a>(Degrees);
<a name="l00337"></a>00337 }
<a name="l00338"></a>00338 
<a name="l00339"></a>00339 
<a name="l00341"></a><a class="code" href="winavr__firebird_8h.html#a8cf9e2dc043ac2c788c78e6dd407e6e8">00341</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a8cf9e2dc043ac2c788c78e6dd407e6e8" title="rotate right by specified degrees">right_degrees</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="winavr__firebird_8h.html#a9719b725d5dde7ae77cf440b08ab2e21" title="to accept angle in degrees for turning">Degrees</a>)
<a name="l00342"></a>00342 {
<a name="l00344"></a>00344  <a class="code" href="winavr__firebird_8h.html#ae56b9a694abd24fe3e7af591fc50b748" title="Left wheel forward, Right wheel backward.">right</a>(); <span class="comment">//Turn right</span>
<a name="l00345"></a>00345  <a class="code" href="winavr__firebird_8h.html#ae79e92df10e04334f214055aa5b8c658" title="Function used for turning robot by specified degrees.">angle_rotate</a>(Degrees);
<a name="l00346"></a>00346 }
<a name="l00347"></a>00347 
<a name="l00349"></a><a class="code" href="winavr__firebird_8h.html#a0c6063fcb1153fa4c8c348b9e759be78">00349</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a0c6063fcb1153fa4c8c348b9e759be78" title="Function to configure the buzzer.">buzzer_pin_config</a> (<span class="keywordtype">void</span>)
<a name="l00350"></a>00350 {
<a name="l00351"></a>00351  DDRC = DDRC | 0x08;            
<a name="l00352"></a>00352  PORTC = PORTC &amp; 0xF7;          
<a name="l00353"></a>00353 }
<a name="l00354"></a>00354 
<a name="l00356"></a><a class="code" href="winavr__firebird_8h.html#a4dd394839cc1e77986c84b3a3679bcd8">00356</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a4dd394839cc1e77986c84b3a3679bcd8" title="Function to switch the buzzer on.">buzzer_on</a> (<span class="keywordtype">void</span>)
<a name="l00357"></a>00357 {
<a name="l00358"></a>00358  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> port_restore = 0;
<a name="l00359"></a>00359  port_restore = PINC;
<a name="l00360"></a>00360  port_restore = port_restore | 0x08;
<a name="l00361"></a>00361  PORTC = port_restore;
<a name="l00362"></a>00362 }
<a name="l00363"></a>00363 
<a name="l00365"></a><a class="code" href="winavr__firebird_8h.html#a93d07c81691fec7a85ea85117d6eca4f">00365</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#a93d07c81691fec7a85ea85117d6eca4f" title="Function to switch the buzzer off.">buzzer_off</a> (<span class="keywordtype">void</span>)
<a name="l00366"></a>00366 {
<a name="l00367"></a>00367  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> port_restore = 0;
<a name="l00368"></a>00368  port_restore = PINC;
<a name="l00369"></a>00369  port_restore = port_restore &amp; 0xF7;
<a name="l00370"></a>00370  PORTC = port_restore;
<a name="l00371"></a>00371 }
<a name="l00372"></a>00372 
<a name="l00374"></a>00374 
<a name="l00375"></a>00375 
<a name="l00376"></a>00376 
<a name="l00377"></a>00377 
<a name="l00378"></a><a class="code" href="winavr__firebird_8h.html#aa50c94354a39dd6f4a609f874ac4a43d">00378</a> <span class="keywordtype">void</span> <a class="code" href="winavr__firebird_8h.html#aa50c94354a39dd6f4a609f874ac4a43d">uart1_init</a>(<span class="keywordtype">void</span>)
<a name="l00379"></a>00379 {
<a name="l00380"></a>00380  UCSR1B = 0x00; 
<a name="l00381"></a>00381  UCSR1A = 0x00;
<a name="l00382"></a>00382  UCSR1C = 0x06;
<a name="l00383"></a>00383  UBRR1L = 0x47; 
<a name="l00384"></a>00384  UBRR1H = 0x00; 
<a name="l00385"></a>00385  UCSR1B = 0x98;
<a name="l00386"></a>00386 }
<a name="l00387"></a>00387 
<a name="l00389"></a><a class="code" href="winavr__firebird_8h.html#ae34e8fb322ce451af1fa55641835922d">00389</a> <a class="code" href="winavr__firebird_8h.html#ae34e8fb322ce451af1fa55641835922d" title="ISR for receive complete interrupt.">SIGNAL</a>(SIG_USART1_RECV)
<a name="l00390"></a>00390 {
<a name="l00391"></a>00391         <a class="code" href="winavr__firebird_8h.html#a433b1c9921d3b90f7c145c781a43f325" title="to receive data through serial communication">data</a> = UDR1;            
<a name="l00392"></a>00392 
<a name="l00393"></a>00393         UDR1 = <a class="code" href="winavr__firebird_8h.html#a433b1c9921d3b90f7c145c781a43f325" title="to receive data through serial communication">data</a>;            
<a name="l00394"></a>00394 
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 DDRC = 0xFF;
<a name="l00397"></a>00397                 <span class="keywordflow">if</span>(<a class="code" href="winavr__firebird_8h.html#a433b1c9921d3b90f7c145c781a43f325" title="to receive data through serial communication">data</a> == 0x51)
<a name="l00398"></a>00398                 {
<a name="l00399"></a>00399                         <a class="code" href="winavr__firebird_8h.html#aa5ae897cf316acc5c766757ffd41db19" title="Function for velocity control.">velocity</a>(255,255);
<a name="l00400"></a>00400                         <a class="code" href="winavr__firebird_8h.html#a0b5f946b51550fe862b59f91ae5fe9f9" title="both wheels forward">forward</a>();  
<a name="l00401"></a>00401                         _delay_ms(50);
<a name="l00402"></a>00402                         stop();
<a name="l00403"></a>00403 
<a name="l00404"></a>00404                 }
<a name="l00405"></a>00405 
<a name="l00406"></a>00406                 <span class="keywordflow">if</span>(<a class="code" href="winavr__firebird_8h.html#a433b1c9921d3b90f7c145c781a43f325" title="to receive data through serial communication">data</a>  == 0x52)
<a name="l00407"></a>00407                 {
<a name="l00408"></a>00408                         <a class="code" href="winavr__firebird_8h.html#aa5ae897cf316acc5c766757ffd41db19" title="Function for velocity control.">velocity</a>(255,255);
<a name="l00409"></a>00409                         <a class="code" href="winavr__firebird_8h.html#a3344ca821ab12c0ceaa9a9c03b473462" title="both wheels backward">back</a>(); 
<a name="l00410"></a>00410                         _delay_ms(50);
<a name="l00411"></a>00411                         stop();
<a name="l00412"></a>00412                 }
<a name="l00413"></a>00413 
<a name="l00414"></a>00414                 <span class="keywordflow">if</span>(<a class="code" href="winavr__firebird_8h.html#a433b1c9921d3b90f7c145c781a43f325" title="to receive data through serial communication">data</a> == 0x53)
<a name="l00415"></a>00415                 {
<a name="l00416"></a>00416                         <a class="code" href="winavr__firebird_8h.html#aa5ae897cf316acc5c766757ffd41db19" title="Function for velocity control.">velocity</a>(120,120);
<a name="l00417"></a>00417                         <a class="code" href="winavr__firebird_8h.html#af58faf62f4e3606140250fb9ed314db5" title="Left wheel backward, Right wheel forward.">left</a>();  
<a name="l00418"></a>00418                         _delay_ms(50);
<a name="l00419"></a>00419                         stop();
<a name="l00420"></a>00420                 }
<a name="l00421"></a>00421 
<a name="l00422"></a>00422                 <span class="keywordflow">if</span>(<a class="code" href="winavr__firebird_8h.html#a433b1c9921d3b90f7c145c781a43f325" title="to receive data through serial communication">data</a> == 0x54)
<a name="l00423"></a>00423                 {
<a name="l00424"></a>00424                         <a class="code" href="winavr__firebird_8h.html#aa5ae897cf316acc5c766757ffd41db19" title="Function for velocity control.">velocity</a>(120,120);
<a name="l00425"></a>00425                         <a class="code" href="winavr__firebird_8h.html#ae56b9a694abd24fe3e7af591fc50b748" title="Left wheel forward, Right wheel backward.">right</a>();  
<a name="l00426"></a>00426                         _delay_ms(50);
<a name="l00427"></a>00427                         stop();
<a name="l00428"></a>00428                 }
<a name="l00429"></a>00429 
<a name="l00430"></a>00430                 <span class="keywordflow">if</span>(<a class="code" href="winavr__firebird_8h.html#a433b1c9921d3b90f7c145c781a43f325" title="to receive data through serial communication">data</a> == 0x50)
<a name="l00431"></a>00431                 {
<a name="l00432"></a>00432                         <a class="code" href="winavr__firebird_8h.html#aa5ae897cf316acc5c766757ffd41db19" title="Function for velocity control.">velocity</a>(120,120);
<a name="l00433"></a>00433                         stop(); 
<a name="l00434"></a>00434                 }
<a name="l00435"></a>00435 
<a name="l00436"></a>00436                 <span class="keywordflow">if</span>(<a class="code" href="winavr__firebird_8h.html#a433b1c9921d3b90f7c145c781a43f325" title="to receive data through serial communication">data</a> == 0x42)
<a name="l00437"></a>00437                 {
<a name="l00438"></a>00438                         <a class="code" href="winavr__firebird_8h.html#a4dd394839cc1e77986c84b3a3679bcd8" title="Function to switch the buzzer on.">buzzer_on</a>();
<a name="l00439"></a>00439                         _delay_ms(1000); 
<a name="l00440"></a>00440                         <a class="code" href="winavr__firebird_8h.html#a93d07c81691fec7a85ea85117d6eca4f" title="Function to switch the buzzer off.">buzzer_off</a>();
<a name="l00441"></a>00441                 }
<a name="l00442"></a>00442 
<a name="l00443"></a>00443 }
</pre></div></div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sat Apr 16 2011 23:30:54 for Border Survillence Bot by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
